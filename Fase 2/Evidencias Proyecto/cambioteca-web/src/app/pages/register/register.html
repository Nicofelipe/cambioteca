<div class="register-container">
  <h2>Crear una cuenta nueva</h2>

  <form (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="rut">RUT:</label>
      <input type="text" id="rut" name="rut" [(ngModel)]="userData.rut" required>
    </div>
    <div class="form-group">
      <label for="nombres">Nombres:</label>
      <input type="text" id="nombres" name="nombres" [(ngModel)]="userData.nombres" required>
    </div>
    <div class="form-group">
      <label for="apellido_paterno">Apellido Paterno:</label>
      <input type="text" id="apellido_paterno" name="apellido_paterno" [(ngModel)]="userData.apellido_paterno" required>
    </div>
    <div class="form-group">
      <label for="apellido_materno">Apellido Materno:</label>
      <input type="text" id="apellido_materno" name="apellido_materno" [(ngModel)]="userData.apellido_materno" required>
    </div>
    <div class="form-group">
      <label for="nombre_usuario">Nombre de Usuario:</label>
      <input type="text" id="nombre_usuario" name="nombre_usuario" [(ngModel)]="userData.nombre_usuario" required>
    </div>
    <div class="form-group">
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" [(ngModel)]="userData.email" required>
    </div>
    <div class="form-group">
      <label for="imagen_perfil">Imagen de Perfil (opcional):</label>
      <input type="file" id="imagen_perfil" accept="image/*" (change)="onFileSelected($event)">
    </div>
    <div class="form-group">
      <label for="telefono">Teléfono:</label>
      <input type="tel" id="telefono" name="telefono" [(ngModel)]="userData.telefono" required>
    </div>
    <div class="form-group">
      <label for="direccion">Dirección:</label>
      <input type="text" id="direccion" name="direccion" [(ngModel)]="userData.direccion" required>
    </div>
    <div class="form-group">
      <label for="numeracion">Numeración:</label>
      <input type="text" id="numeracion" name="numeracion" [(ngModel)]="userData.numeracion" required>
    </div>
    <div class="form-group">
      <label for="region">Región:</label>
      <select id="region" name="region" [(ngModel)]="userData.region" (change)="onRegionChange()" required>
        <option [ngValue]="null" disabled>Selecciona una región...</option>
        <option *ngFor="let region of regiones" [value]="region.id_region">{{ region.nombre }}</option>
      </select>
    </div>
    <div class="form-group">
      <label for="comuna">Comuna:</label>
      <select id="comuna" name="comuna" [(ngModel)]="userData.comuna" [disabled]="!userData.region" required>
        <option [ngValue]="null" disabled>Selecciona una comuna...</option>
        <option *ngFor="let comuna of comunas" [value]="comuna.id_comuna">{{ comuna.nombre }}</option>
      </select>
    </div>
    <div class="form-group">
      <label for="contrasena">Contraseña:</label>
      <input type="password" id="contrasena" name="contrasena" [(ngModel)]="userData.contrasena" required>
    </div>
    <div class="form-group">
      <label for="password2">Confirmar Contraseña:</label>
      <input type="password" id="password2" name="password2" [(ngModel)]="userData.password2" required>
    </div>
    <button type="submit">Registrarme</button>
  </form>
</div>