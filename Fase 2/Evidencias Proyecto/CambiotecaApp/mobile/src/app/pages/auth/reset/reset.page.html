<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Restablecer contraseña</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="auth-content">
  <div class="card">
    <h2>Nueva contraseña</h2>
    <p>Escribe y confirma tu nueva contraseña.</p>

    <form [formGroup]="form" (ngSubmit)="submit()">
      <ion-list lines="none">
        <ion-item fill="solid">
          <ion-input
            type="password"
            label="Contraseña nueva"
            labelPlacement="floating"
            formControlName="password"
            autocomplete="new-password">
          </ion-input>
        </ion-item>
        <ion-note color="medium" class="note">
          Mínimo 8, con mayúscula, minúscula, número y símbolo.
        </ion-note>
        <ion-note color="danger" *ngIf="f.password.touched && f.password.invalid" class="note">
          La contraseña no cumple los requisitos.
        </ion-note>

        <ion-item fill="solid" class="mt">
          <ion-input
            type="password"
            label="Confirmar contraseña"
            labelPlacement="floating"
            formControlName="confirm"
            autocomplete="new-password">
          </ion-input>
        </ion-item>
        <ion-note color="danger" *ngIf="form.touched && form.errors?.['mismatch']" class="note">
          Las contraseñas no coinciden.
        </ion-note>

        <ion-button expand="block" class="mt" type="submit" [disabled]="form.invalid || busy">
          {{ busy ? 'Guardando...' : 'Guardar' }}
        </ion-button>
      </ion-list>
    </form>
  </div>
</ion-content>
